–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞ –æ—Ç –∫–æ–º–ø–∞–Ω–∏–∏ –ì–∞–∑–ø—Ä–æ–º –¢—Ä–∞–Ω—Å–≥–∞–∑ –¢–æ–º—Å–∫.
---

# üß© –ü—Ä–æ–µ–∫—Ç: –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç + FastAPI Backend

## üìå –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:
- **Telegram-–±–æ—Ç** (–Ω–∞ Aiogram 3.x), –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –∑–∞—è–≤–∫–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- **FastAPI backend**, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π API –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –≥—Ä—É–ø–ø–∞–º–∏, –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞–º–∏ –∏ –∑–∞—è–≤–∫–∞–º–∏.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **PostgreSQL** –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è –ë–î.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** —á–µ—Ä–µ–∑ Docker –∏ Docker Compose.

---

## üõ† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è       | –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
|----------------|-------------------------|
| **Backend**     | Python 3.12, FastAPI    |
| **Telegram Bot**| Aiogram 3.x             |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | PostgreSQL              |
| **ORM**         | SQLAlchemy ORM          |
| **–ú–∏–≥—Ä–∞—Ü–∏–∏**    | Alembic                 |
| **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** | JWT, Bcrypt           |
| **–í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫** | FastAPI                |
| **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** | Docker, Docker Compose |
| **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | logging                 |

---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ backend

### 1. **FastAPI**
- –°–æ–∑–¥–∞–Ω REST API –¥–ª—è:
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (`/register`, `/login`)
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (`/users/me`, `/users/{id}/group`)
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞–º–∏, –≥—Ä—É–ø–ø–∞–º–∏, —Å–µ—Ä–≤–∏—Å–∞–º–∏
  - –û–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–æ–∫ (`/requests`)

### 2. **JWT –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ç–æ–∫–µ–Ω–Ω–æ–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
  - –õ–æ–≥–∏–Ω —á–µ—Ä–µ–∑ OAuth2 (`/login`)
  - –ó–∞—â–∏—Ç–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ `Depends(get_current_user)`
  - –¢–æ–∫–µ–Ω—ã –∂–∏–≤—É—Ç 30 –º–∏–Ω—É—Ç

### 3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏**
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ä–æ–ª–∏:
  - `ADMIN`
  - `HR`
  - `MANAGER`
  - `DEVELOPER`
- –î–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–æ–ª–∏ (RBAC)
- –ü—Ä–∏–º–µ—Ä: —Ç–æ–ª—å–∫–æ `ADMIN` –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å —Å–µ—Ä–≤–∏—Å—ã

### 4. **–°–µ—Ä–≤–∏—Å—ã / –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã / –ì—Ä—É–ø–ø—ã**
- –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
  - –°–µ—Ä–≤–∏—Å ‚Üí –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç ‚Üí –ì—Ä—É–ø–ø–∞ ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### 5. **Telegram-–±–æ—Ç**
- –ü—Ä–∏–µ–º –∑–∞—è–≤–æ–∫ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
  ```
  title: ...
  description: ...
  tags: ...
  ```
- –ó–∞—è–≤–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤

---

## üóÉÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```python
class User(Base):
    __tablename__ = "users"
    user_id = Column(Integer, primary_key=True)
    email = Column(String, unique=True)
    hashed_password = Column(String)
    role = Column(String)
    group_id = Column(Integer, ForeignKey("groups.group_id"))
    disabled = Column(Boolean, default=False)

class Service(Base):
    __tablename__ = "services"
    service_id = Column(Integer, primary_key=True)
    name = Column(String)

class Departament(Base):
    __tablename__ = "departaments"
    depart_id = Column(Integer, primary_key=True)
    name = Column(String)
    service_id = Column(Integer, ForeignKey("services.service_id"))

class Group(Base):
    __tablename__ = "groups"
    group_id = Column(Integer, primary_key=True)
    name = Column(String)
    depart_id = Column(Integer, ForeignKey("departaments.depart_id"))
```

---

## üê≥ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Docker)

### `docker-compose.yml` —Å–æ–¥–µ—Ä–∂–∏—Ç:
- `app`: FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `db`: PostgreSQL 15
- `pgadmin`: –î–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ë–î
- `bot`: (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω) –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –æ—Ç–¥–µ–ª—å–Ω–æ

### `Dockerfile`:
- –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ `python:3.12-slim`
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ `requirements.txt`
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
  ```bash
  python -m alembic upgrade head
  ```

---

## üîÅ –ú–∏–≥—Ä–∞—Ü–∏–∏ (Alembic)

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ –ë–î
- –ü—Ä–∏–º–µ—Ä –º–∏–≥—Ä–∞—Ü–∏–∏:
  ```bash
  alembic revision --autogenerate -m "Add requests table"
  alembic upgrade head
  ```
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ downgrade/upgrade

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ `config.py`:
```python
DATABASE_URL=postgresql://root:12345@db:5432/test_postg-db-1
BOT_TOKEN=your_bot_token
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ Docker:
```bash
docker-compose up --build
```

---

## ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏

- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, Celery).
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã (pytest).
- –£–ª—É—á—à–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (email, push).
- –í–Ω–µ–¥—Ä–∏—Ç—å RBAC –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î.
- –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Swagger / ReDoc.
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å CI/CD (GitHub Actions / GitLab CI).

---

## üìå –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–º. [LICENSE](LICENSE)

---

